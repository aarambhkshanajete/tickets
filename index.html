<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Drama Show Seat Selection</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; }
    .seat { width: 30px; height: 30px; margin: 5px; background-color: #ccc; display: inline-block; cursor: pointer; }
    .selected { background-color: #6c6; }
    .booked { background-color: #f66; cursor: not-allowed; }
    #seats-container { margin: 20px auto; width: fit-content; }
    #summary { margin-top: 20px; }
    #form-container { display: none; margin-top: 20px; }
  </style>
</head>
<body>

<h2>Select Your Seats</h2>
<div id="seats-container"></div>

<div id="summary">
  <p>Selected Seats: <span id="selected-seats">None</span></p>
  <p>Total Price: â‚¹<span id="total-price">0</span></p>
  <button onclick="showForm()">Proceed</button>
</div>

<div id="form-container">
  <h3>Enter Your Details</h3>
  <form id="booking-form" onsubmit="redirectToPayment(event)">
    <input type="text" placeholder="Name" required><br><br>
    <input type="email" placeholder="Email" required><br><br>
    <button type="submit">Pay Now</button>
  </form>
</div>

<script>
  const seatPrice = 200;
  const rows = 5, cols = 10;
  const bookedSeats = ['A3', 'B5', 'C7']; // Example booked seats
  const selectedSeats = [];

  const container = document.getElementById('seats-container');

  for (let r = 0; r < rows; r++) {
    const rowLabel = String.fromCharCode(65 + r);
    for (let c = 1; c <= cols; c++) {
      const seatId = rowLabel + c;
      const seat = document.createElement('div');
      seat.className = 'seat';
      seat.innerText = seatId;
      seat.dataset.id = seatId;

      if (bookedSeats.includes(seatId)) {
        seat.classList.add('booked');
      } else {
        seat.onclick = () => toggleSeat(seat);
      }

      container.appendChild(seat);
    }
    container.appendChild(document.createElement('br'));
  }

  function toggleSeat(seat) {
    const id = seat.dataset.id;
    if (selectedSeats.includes(id)) {
      selectedSeats.splice(selectedSeats.indexOf(id), 1);
      seat.classList.remove('selected');
    } else {
      selectedSeats.push(id);
      seat.classList.add('selected');
    }
    updateSummary();
  }

  function updateSummary() {
    document.getElementById('selected-seats').innerText = selectedSeats.join(', ') || 'None';
    document.getElementById('total-price').innerText = selectedSeats.length * seatPrice;
  }

  function showForm() {
    if (selectedSeats.length === 0) {
      alert('Please select at least one seat.');
      return;
    }
    document.getElementById('form-container').style.display = 'block';
  }

  function redirectToPayment(event) {
    event.preventDefault();
    const amount = selectedSeats.length * seatPrice;
    const paymentLink = `https://your-payment-link.com?amount=${amount}`;
    window.location.href = paymentLink;
  }
</script>

</body>
</html>
